<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>hyra bil</title>
</head>

<body>

    <h2 id="welcome"></h2>

    <button id="Hyra"> <img src="" alt="">Hyra bil</button>
    <button id="Hyr5minuter" style="display: none;">Hyr5minuter</button>
    <button id="Hyr30minuter" style="display: none;"> Hyr30minuter</button>
    <button id="Avsluta" style="display: none;"> Avsluta</button>
    <p id="output"></p>
    <script>
        let utText = 0;
        let utKr = 0;

        const urlParams = new URLSearchParams(window.location.search);
        const username = urlParams.get('username');
        document.getElementById('welcome').innerText = `Welcome, ${username}!`;



        
        const Hyra = document.getElementById('Hyra');
        const Hyr5minuter = document.getElementById('Hyr5minuter');
        const Hyr30minuter = document.getElementById('Hyr30minuter');
        const text = document.getElementById('output');

        if (!username) {
            window.location.href = 'bil.html';
        }
        else {
            document.getElementById('Hyra').addEventListener('click', function () {
                alert('Du har hyrt en bil.Tryck igen för att bestämma hur länge du vill hyra bilen!');

                Hyra.style.display = 'none';
                Hyr5minuter.style.display = 'block';
                Hyr30minuter.style.display = 'block';
                Avsluta.style.display = 'block';

            });

            document.getElementById('welcome').textContent = `Welcome, ${username}!`;
        }
        document.getElementById('Hyr5minuter').addEventListener('click', function () {
            utKr += 10;
            utText += 5;
            text.textContent = utText + " minuter = " + utKr + " kr ";
                if(utText >=300){
                alert("Du har hyrt bilen i 5 timmar");
                Hyr30minuter.disabled = true;
                Hyr5minuter.disabled = true;
                Hyr30minuter.style.display = 'none';
                Hyr5minuter.style.display = 'none';

            }
               else {
                Hyr30minuter.disabled = false;
                Hyr5minuter.disabled = false;
            }
        });

        document.getElementById('Hyr30minuter').addEventListener('click', function () {
            utKr += 60;
            utText += 30;
            text.textContent = utText + " minuter = " + utKr + " kr ";
            if(utText >=300){
                alert("Du har hyrt bilen i 5 timmar");
                Hyr30minuter.disabled = true;
                Hyr5minuter.disabled = true;
                Hyr30minuter.style.display = 'none';
                Hyr5minuter.style.display = 'none';
               
                
            }
            else {
                Hyr30minuter.disabled = false;
                Hyr5minuter.disabled = false;
            }
            


        });

         document.getElementById('Avsluta').addEventListener('click', function () {
            if(utText > 0){
                alert("vill du avsluta hyrningen?");
                Hyr30minuter.disabled = true;
                Hyr5minuter.disabled = true;
                Hyr30minuter.style.display = 'none';
                Hyr5minuter.style.display = 'none';
                Avsluta.disabled = true;
                Avsluta.style.display = 'none';
            }


        });




    </script>
</body>

</html>